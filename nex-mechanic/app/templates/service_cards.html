<!DOCTYPE html>
<html lang="en" x-data="serviceCategories()">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NEX-mechanic | Services</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&family=Sora:wght@500&family=Manrope&display=swap" rel="stylesheet">

  <!-- Alpine.js -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

  <style>
  body {
    font-family: 'Manrope', sans-serif;
    background-color: #000;
    background-image: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 60%),
                      linear-gradient(135deg, #00ff73, #dee0e0);
    background-blend-mode: overlay;
    color: #fff;
    overflow-x: hidden;
  }
  h1.orbitron {
    font-family: 'Sora', sans-serif;
  }
  .glass {
    background: linear-gradient(135deg, rgba(0, 255, 115, 0.05), rgba(222, 224, 224, 0.05));
    backdrop-filter: blur(15px);
    border-radius: 1rem;
    border: 2px solid;
    border-image-slice: 1;
    border-width: 2px;
    border-image-source: linear-gradient(135deg, #00ff73, rgba(0,0,0,0.5));
    box-shadow: 0 4px 30px rgba(0, 255, 115, 0.2), 0 6px 40px rgba(0,0,0,0.4);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    animation: stackIn 0.6s ease-out;
  }
  .card-flip {
    perspective: 1000px;
  }
  .card-inner {
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    position: relative;
  }

  .card-front, .card-back {
    backface-visibility: hidden;
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 1rem;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-family: 'Manrope', sans-serif;
  }

  .card-back {
    transform: rotateY(180deg);
  }

  .card-flip:hover .card-inner {
    transform: rotateY(180deg);
  }

  .flipped .card-inner {
    transform: rotateY(180deg);
  }

  @keyframes stackIn {
    0% { transform: translateY(-50px) rotate(-3deg); opacity: 0; }
    100% { transform: translateY(0) rotate(0); opacity: 1; }
  }

  .stack-animate {
    animation: stackIn 0.6s ease-out forwards;
  }

  @keyframes pulseFlip {
  0%, 100% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.3); opacity: 1; }
  }

  .pulse-flip {
  animation: pulseFlip 1.8s infinite ease-in-out;
  }

  @keyframes flashIn {
    0% { box-shadow: 0 0 0px #00ff73; }
    50% { box-shadow: 0 0 5px #00ff73; }
    100% { box-shadow: 0 0 0px #00ff73; }
  }

  .flash-on {
    animation: flashIn 0.6s ease;
  }



</style>

</head>

<body class="min-h-screen py-10 px-6">

  <!-- Document Upload icon -->

  <a href="{{ url_for('upload_docs.upload_doc') }}" 
   class="fixed top-6 left-6 z-50 text-white hover:text-green-400 transition text-4xl" 
   title="Intelli Document Checker">
  üìÑ
</a>


  <!-- Reminder Badge (Top Right Corner):-->

  <a href="/reminders" class="absolute top-4 right-4 z-50"
    title="Car Behaviour Profiler">
    <span class="text-4xl">üîî</span>
  {% if reminder_count %}
    <span class="absolute top-1 right-1 bg-red-500 text-white text-xs px-1 rounded-full">
    {{ reminder_count }}
    </span>
  {% endif %}
  </a>

  <h1 class="orbitron text-4xl font-bold text-center text-white mb-12">Select a Service</h1>

  <div class="flex flex-wrap justify-center gap-6">

    <!-- Alpine -->

<template x-for="(cat, i) in categories" :key="cat.name">

  <div 
  x-data="{ flipReady: false }"
  x-init="setTimeout(() => {
    $el.classList.add('stack-animate', 'flash-on');
    $el.classList.remove('opacity-0');
  }, i * 200)" 
  class="card-flip w-60 h-64 cursor-pointer mb-4 opacity-0"
  :class="{ 'flipped': cat.flipped }"
  @mouseenter="if (flipReady) cat.flipped = true"
  @mouseenter="if (flipReady) cat.flipped = false"
  >

    <div class="card-inner relative">

      <!-- Front -->

      <div class="card-front glass">
        <div class="text-4xl mb-2" x-text="cat.icon"></div>
        <h2 class="text-lg font-semibold text-center text-white" x-text="cat.title"></h2>
        <p class="text-sm mt-2 text-center text-slate-300">‚è±Ô∏è ~<span x-text="cat.time"></span></p>
      </div>
        <!-- Back -->
      <div class="card-back glass">
        <p class="text-sm text-white text-center" x-text="cat.description"></p>
        <a href="sub-category.html">
          <button class="mt-4 py-2 px-4 text-sm bg-white text-black rounded-xl font-medium">
            View Services
          </button>
        </a>
      </div>
      
    </div>
  </div>
</template>

<script>
  function serviceCategories() {
    return {
      categories: [
        {
          name: 'repair',
          title: 'Repair & Maintenance',
          icon: 'üõ†Ô∏è',
          time: '45 mins',
          description: 'Routine checks, repairs and diagnostics.',
          availability: [],
          flipped: false
        },
        {
          name: 'wash',
          title: 'Car Wash & Detailing',
          icon: '‚ú®',
          time: '30 mins',
          description: 'Shine on the outside, fresh on the inside ‚ú®',
          availability: [],
          flipped: false
        },
        {
          name: 'insurance',
          title: 'Insurance Compliance',
          icon: 'üõ°Ô∏è',
          time: '20 mins',
          description: 'Stay covered and compliant üõ°Ô∏è',
          availability: [],
          flipped: false
        },
        {
          name: 'bonus',
          title: 'Bonus Services',
          icon: 'üöó',
          time: 'Varies',
          description: 'Convenient mobile & pickup/drop',
          availability: [],
          flipped: false
        }
      ]
    }
  }
</script>

<!-- ‚úÖ Toast Notification {{ popup_reminder|escape }} -->
    
  <div x-data="{ show: false, message: 'üîß Test reminder: Your service is due soon.' }"
       x-init="if (message) { show = true; setTimeout(() => show = false, 6000) }"
       x-show="show"
       x-transition:enter="transition ease-out duration-500"
       x-transition:enter-start="opacity-0 translate-y-5"
       x-transition:enter-end="opacity-100 translate-y-0"
       x-transition:leave="transition ease-in duration-400"
       x-transition:leave-start="opacity-100 translate-y-0"
       x-transition:leave-end="opacity-0 translate-y-5"
       class="fixed bottom-6 right-6 max-w-xs w-full z-50 p-4 rounded-xl bg-black glass glow border border-white border-opacity-10 text-white shadow-lg backdrop-blur-lg">
    
    <p class="text-sm leading-relaxed text-slate-200" x-text="message"></p>
  </div>

    
</body>
</html>
